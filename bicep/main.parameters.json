{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "aksClusterNetworkPlugin": {
      "value": "azure"
    },
    "aksClusterNetworkPluginMode": {
      "value": ""
    },
    "aksClusterNetworkPolicy": {
      "value": "azure"
    },
    "aksClusterPodCidr": {
      "value": "192.168.0.0/16"
    },
    "aksClusterServiceCidr": {
      "value": "172.16.0.0/16"
    },
    "aksClusterDnsServiceIP": {
      "value": "172.16.0.10"
    },
    "aksClusterOutboundType": {
      "value": "userAssignedNATGateway"
    },
    "aksClusterKubernetesVersion": {
      "value": "1.24.0"
    },
    "aksClusterAdminUsername": {
      "value": "azadmin"
    },
    "aksClusterSshPublicKey": {
      "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDNs0v0pjLmsaRap2Q819gRwCb/vYJJOoVJH0a1dkCApSs32jqKju9nXecxm449Jc7Ek6PmKUP51tVMCJD2PXbwGY62cXiCLAol3K8BHYE9BG84YKVk3dzUYQ3WEauPAZIKjceMK3Yoax1PwQVtBRPCm29Kei4YfPo8iB0xQ6A7lWgPzSaVlOxu8zYEkVUb502x7/VVa1ccBgzcqpb93LxnWTpg7xpAXM7VXULaMi7eh5UQlh6PYCQYBZjoR86g0nCe1Or/vOCxnD+gq21JtIbmeNDH29zYL7r1pXkR5DG7T6nUfaTin4reTrn8G6LTBF57c9dxBfclCBTAvoF+2ZZrKuijVGo+hJiRgCt320C9k0l6iOi+uwwn+Az6NqFRKnmZ2BU4gqIQlEEBB2LFBN58MAZ3T02Sqq+/b/bMMprdjxAn5hnjrvkBqmo9rFkdFKt4WBpMw4hs1rEhDaAFOdYHRRZBI7tphtcWi8qF+wK1xE//sf8RAE9pz1M01v6j2pk= generated-by-azure"
    },
    "aksClusterMonitoringEnabled": {
      "value": true
    },
    "aadProfileManaged": {
      "value": true
    },
    "aadProfileEnableAzureRBAC": {
      "value": true
    },
    "aadProfileAdminGroupObjectIDs": {
      "value": [
        "7f0975c1-6248-4fed-974d-0f1443c32a1d"
      ]
    },
    "systemAgentPoolName": {
      "value": "system"
    },
    "systemAgentPoolVmSize": {
      "value": "Standard_D4ads_v5"
    },
    "systemAgentPoolOsDiskSizeGB": {
      "value": 80
    },
    "systemAgentPoolAgentCount": {
      "value": 3
    },
    "systemAgentPoolMaxCount": {
      "value": 5
    },
    "systemAgentPoolMinCount": {
      "value": 3
    },
    "systemAgentPoolNodeTaints": {
      "value": [
        "CriticalAddonsOnly=true:NoSchedule"
      ]
    },
    "userAgentPoolName": {
      "value": "user"
    },
    "userAgentPoolVmSize": {
      "value": "Standard_D4ads_v5"
    },
    "userAgentPoolOsDiskSizeGB": {
      "value": 80
    },
    "userAgentPoolAgentCount": {
      "value": 3
    },
    "userAgentPoolMaxCount": {
      "value": 5
    },
    "userAgentPoolMinCount": {
      "value": 3
    },
    "enableVnetIntegration": {
      "value": true
    },
    "virtualNetworkAddressPrefixes": {
      "value": "10.0.0.0/8"
    },
    "systemAgentPoolSubnetName": {
      "value": "SystemSubnet"
    },
    "systemAgentPoolSubnetAddressPrefix": {
      "value": "10.240.0.0/16"
    },
    "userAgentPoolSubnetName": {
      "value": "UserSubnet"
    },
    "userAgentPoolSubnetAddressPrefix": {
      "value": "10.241.0.0/16"
    },
    "windowsAgentPoolSubnetName": {
      "value": "WindowsSubnet"
    },
    "windowsAgentPoolSubnetAddressPrefix": {
      "value": "10.244.0.0/16"
    },
    "podSubnetName": {
      "value": "PodSubnet"
    },
    "podSubnetAddressPrefix": {
      "value": "10.242.0.0/16"
    },
    "apiServerSubnetName": {
      "value": "ApiServerSubnet"
    },
    "apiServerSubnetAddressPrefix": {
      "value": "10.243.0.0/27"
    },
    "vmSubnetName": {
      "value": "VmSubnet"
    },
    "vmSubnetAddressPrefix": {
      "value": "10.243.1.0/24"
    },
    "bastionSubnetAddressPrefix": {
      "value": "10.243.2.0/24"
    },
    "applicationGatewaySubnetName": {
      "value": "AppGatewaySubnet"
    },
    "applicationGatewaySubnetAddressPrefix": {
      "value": "10.243.3.0/24"
    },
    "applicationGatewayForContainersSubnetName": {
      "value": "AppGwForConSubnet"
    },
    "applicationGatewayForContainersSubnetAddressPrefix": {
      "value": "10.243.4.0/24"
    },
    "applicationGatewayEnabled": {
      "value": false
    },
    "applicationGatewayForContainersEnabled": {
      "value": true
    },
    "applicationGatewayAvailabilityZones": {
      "value": [
        "1",
        "2",
        "3"
      ]
    },
    "applicationGatewayPrivateIpAddress": {
      "value": "10.243.3.4"
    },
    "applicationGatewayPrivateLinkEnabled": {
      "value": true
    },
    "applicationGatewayFrontendIpConfigurationType": {
      "value": "Public"
    },
    "logAnalyticsSku": {
      "value": "PerGB2018"
    },
    "vmEnabled": {
      "value": true
    },
    "vmName": {
      "value": "TestVm"
    },
    "vmSize": {
      "value": "Standard_D4ads_v5"
    },
    "imagePublisher": {
      "value": "Canonical"
    },
    "imageOffer": {
      "value": "0001-com-ubuntu-server-jammy"
    },
    "imageSku": {
      "value": "22_04-lts-gen2"
    },
    "authenticationType": {
      "value": "sshPublicKey"
    },
    "vmAdminUsername": {
      "value": "azadmin"
    },
    "vmAdminPasswordOrKey": {
      "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDNs0v0pjLmsaRap2Q819gRwCb/vYJJOoVJH0a1dkCApSs32jqKju9nXecxm449Jc7Ek6PmKUP51tVMCJD2PXbwGY62cXiCLAol3K8BHYE9BG84YKVk3dzUYQ3WEauPAZIKjceMK3Yoax1PwQVtBRPCm29Kei4YfPo8iB0xQ6A7lWgPzSaVlOxu8zYEkVUb502x7/VVa1ccBgzcqpb93LxnWTpg7xpAXM7VXULaMi7eh5UQlh6PYCQYBZjoR86g0nCe1Or/vOCxnD+gq21JtIbmeNDH29zYL7r1pXkR5DG7T6nUfaTin4reTrn8G6LTBF57c9dxBfclCBTAvoF+2ZZrKuijVGo+hJiRgCt320C9k0l6iOi+uwwn+Az6NqFRKnmZ2BU4gqIQlEEBB2LFBN58MAZ3T02Sqq+/b/bMMprdjxAn5hnjrvkBqmo9rFkdFKt4WBpMw4hs1rEhDaAFOdYHRRZBI7tphtcWi8qF+wK1xE//sf8RAE9pz1M01v6j2pk= generated-by-azure"
    },
    "diskStorageAccountType": {
      "value": "Premium_LRS"
    },
    "numDataDisks": {
      "value": 1
    },
    "osDiskSize": {
      "value": 50
    },
    "dataDiskSize": {
      "value": 50
    },
    "dataDiskCaching": {
      "value": "ReadWrite"
    },
    "aksClusterEnablePrivateCluster": {
      "value": false
    },
    "aksEnablePrivateClusterPublicFQDN": {
      "value": false
    },
    "keyVaultObjectIds": {
      "value": [
        "7f0975c1-6248-4fed-974d-0f1443c32a1d"
      ]
    },
    "openServiceMeshEnabled": {
      "value": false
    },
    "istioServiceMeshEnabled": {
      "value": true
    },
    "istioIngressGatewayEnabled": {
      "value": true
    },
    "istioIngressGatewayType": {
      "value": "External"
    },
    "kedaEnabled": {
      "value": true
    },
    "daprEnabled": {
      "value": true
    },
    "fluxGitOpsEnabled": {
      "value": true
    },
    "verticalPodAutoscalerEnabled": {
      "value": true
    },
    "azurePolicyEnabled": {
      "value": true
    },
    "azureKeyvaultSecretsProviderEnabled": {
      "value": true
    },
    "kubeDashboardEnabled": {
      "value": false
    },
    "systemAgentPoolKubeletDiskType": {
      "value": "OS"
    },
    "userAgentPoolKubeletDiskType": {
      "value": "OS"
    },
    "systemAgentPoolOsDiskType": {
      "value": "Ephemeral"
    },
    "userAgentPoolOsDiskType": {
      "value": "Ephemeral"
    },
    "deploymentScriptUri": {
      "value": "https://paolosalvatori.blob.core.windows.net/scripts/install-alb-controller.sh"
    },
    "blobCSIDriverEnabled": {
      "value": true
    },
    "diskCSIDriverEnabled": {
      "value": true
    },
    "fileCSIDriverEnabled": {
      "value": true
    },
    "snapshotControllerEnabled": {
      "value": true
    },
    "defenderSecurityMonitoringEnabled": {
      "value": true
    },
    "imageCleanerEnabled": {
      "value": true
    },
    "imageCleanerIntervalHours": {
      "value": 24
    },
    "nodeRestrictionEnabled": {
      "value": true
    },
    "workloadIdentityEnabled": {
      "value": false
    },
    "oidcIssuerProfileEnabled": {
      "value": true
    },
    "actionGroupEnabled": {
      "value": true
    },
    "actionGroupEmailAddress": {
      "value": "admin@MngEnvMCAP856480.onmicrosoft.com"
    },
    "windowsAgentPoolEnabled": {
      "value": true
    },
    "windowsAgentPoolName": {
      "value": "win"
    },
    "windowsAgentPoolAvailabilityZones": {
      "value": [
        "1",
        "2",
        "3"
      ]
    },
    "prometheusAndGrafanaEnabled": {
      "value": true
    },
    "tags": {
      "value": {
        "iaC": "Bicep"
      }
    },
    "openAiEnabled": {
      "value": false
    },
    "openAiDeployments": {
      "value": [
        {
          "name": "gpt-35-turbo-16k",
          "model": {
            "format": "OpenAI",
            "name": "gpt-35-turbo-16k",
            "version": "0613"
          },
          "sku": {
            "name": "Standard",
            "capacity": 30
          }
        },
        {
          "name": "text-embedding-ada-002",
          "model": {
            "format": "OpenAI",
            "name": "text-embedding-ada-002",
            "version": "2"
          },
          "sku": {
            "name": "Standard",
            "capacity": 30
          }
        }
      ]
    },
    "clusterTags": {
      "value": {
        "environment": "Development",
        "project": "AKS",
        "iaC": "Bicep",
        "serviceMesh": "Istio",
        "networkPlugin": "Azure CNI",
        "networkPolicy": "Azure",
        "private": "false",
        "apiServerVnetIntegration": true,
        "podSubnet": true,
        "perAgentPoolSubnet": true,
        "prometheusAndGrafana": true
      }
    }
  }
}